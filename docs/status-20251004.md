# zskk 開発状況サマリ (2025-10-04)

## 完了した作業
- 初期実装方針を `docs/implementation-plan.md` に整理。
- プラグインスケルトン (`zskk.plugin.zsh`, `zskk-init`, `zskk-unload`) を追加し、ZLE 統合の基盤を構築。
- SKK 辞書読み込みユーティリティ (`zskk-dict`) を実装し、サンプル辞書を同梱。
- ローマ字かな変換・プレエディット管理ユーティリティ (`zskk-input`) を実装。
- 入力パイプラインと辞書ローダーのスモークテスト (`tests/input-spec.zsh`) を整備し、コア処理の動作を検証。

## 残タスク / 次に取り組むべき項目
- 変換エンジン: 語幹＋送り仮名処理と候補選択ロジック、個人辞書学習の実装。
- ZLE ウィジェット: `self-insert` 差し替えや候補循環、モード切替などインタラクションの実装。
- 候補表示 UI: `zle -M` を活用した候補一覧・ページング・番号選択。
- 設定インターフェース: `zstyle`/環境変数でのキーマップ・辞書パス・ホットキー設定。
- パッケージング: zinit 統合（`atclone`/`atload` フック）、README とリリース手順整備。
- テスト拡充: 変換エッジケース（長音、記号、ローマ字例外）、辞書更新、モード遷移のユニット/統合テスト。

## 今後の方針
1. **変換エンジン実装**: 辞書 API を活用して未確定バッファから候補取得・送り仮名処理を組み込み、個人辞書更新 API を追加。
2. **ZLE ウィジェット統合**: 主要キーバインドを定義し、既存ウィジェットとの競合解決・無効化時のリストアを実装。
3. **UI/設定整備**: 候補表示・メッセージ管理、`zstyle` ベースの設定レイヤー、ユーザ向け初期設定スクリプトを追加。
4. **ドキュメント/配布準備**: README、トラブルシューティング、zinit インストールガイド、テスト手順を整備し、初回リリースに備える。
5. **自動化**: CI で `tests/input-spec.zsh` を実行し、将来の変更時の回 regressions を防止。
